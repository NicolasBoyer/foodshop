function t(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function e(t,e,n){return e=m(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,i()?Reflect.construct(e,n||[],m(t).constructor):e.apply(t,n))}function n(e,n){return e.get(t(e,n))}function r(e,n,r){return e.set(t(e,n),r),r}function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i=function(){return!!t})()}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){v(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function d(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,s=Object.create(o.prototype),a=new L(r||[]);return i(s,"_invoke",{value:C(t,n,a)}),s}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var h="suspendedStart",p="suspendedYield",v="executing",g="completed",m={};function y(){}function b(){}function w(){}var k={};l(k,s,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(I([])));x&&x!==n&&r.call(x,s)&&(k=x);var E=w.prototype=y.prototype=Object.create(k);function S(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,o,s,a){var u=f(t[i],t,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,a)}),(function(t){n("throw",t,s,a)})):e.resolve(l).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=h;return function(o,s){if(i===v)throw Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:t,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var u=M(a,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var c=f(e,n,r);if("normal"===c.type){if(i=r.done?g:p,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=g,r.method="throw",r.arg=c.arg)}}}function M(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=f(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var s=o.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=l(w,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,l(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},S(_.prototype),l(_.prototype,u,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new _(d(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},S(E),l(E,c,"Generator"),l(E,s,(function(){return this})),l(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function u(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){l(o,r,i,s,a,"next",t)}function a(t){l(o,r,i,s,a,"throw",t)}s(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function p(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v(t,e,n){return(e=u(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function b(t){var e="function"==typeof Map?new Map:void 0;return b=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&y(o,n.prototype),o}(t,arguments,m(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,t)},b(t)}function w(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,a=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(t,e)||x(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t){return function(t){if(Array.isArray(t))return E(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||x(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=x(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function _(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function C(t,e,n){_(t,e),e.set(t,n)}function M(t,e){_(t,e),e.add(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var $,O=window,L=O.trustedTypes,I=L?L.createPolicy("lit-html",{createHTML:function(t){return t}}):void 0,T="lit$".concat((Math.random()+"").slice(9),"$"),P="?"+T,N="<".concat(P,">"),W=document,j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return W.createComment(t)},q=function(t){return null===t||"object"!==c(t)&&"function"!=typeof t},H=Array.isArray,D=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,R=/-->/g,z=/>/g,B=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),V=/'/g,U=/"/g,F=/^(?:script|style|textarea|title)$/i,G=function(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return{_$litType$:t,strings:e,values:r}}}(1),J=Symbol.for("lit-noChange"),Y=Symbol.for("lit-nothing"),Z=new WeakMap,X=function(t,e,n){var r,i,o=null!==(r=null==n?void 0:n.renderBefore)&&void 0!==r?r:e,s=o._$litPart$;if(void 0===s){var a=null!==(i=null==n?void 0:n.renderBefore)&&void 0!==i?i:null;o._$litPart$=s=new it(e.insertBefore(j(),a),a,void 0,null!=n?n:{})}return s._$AI(t),s},K=W.createTreeWalker(W,129,null,!1),Q=function(t,e){for(var n,r=t.length-1,i=[],o=2===e?"<svg>":"",s=D,a=0;a<r;a++){for(var u=t[a],c=void 0,l=void 0,d=-1,f=0;f<u.length&&(s.lastIndex=f,null!==(l=s.exec(u)));)f=s.lastIndex,s===D?"!--"===l[1]?s=R:void 0!==l[1]?s=z:void 0!==l[2]?(F.test(l[2])&&(n=RegExp("</"+l[2],"g")),s=B):void 0!==l[3]&&(s=B):s===B?">"===l[0]?(s=null!=n?n:D,d=-1):void 0===l[1]?d=-2:(d=s.lastIndex-l[2].length,c=l[1],s=void 0===l[3]?B:'"'===l[3]?U:V):s===U||s===V?s=B:s===R||s===z?s=D:(s=B,n=void 0);var h=s===B&&t[a+1].startsWith("/>")?" ":"";o+=s===D?u+N:d>=0?(i.push(c),u.slice(0,d)+"$lit$"+u.slice(d)+T+h):u+T+(-2===d?(i.push(void 0),a):h)}var p=o+(t[r]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==I?I.createHTML(p):p,i]},tt=function(){return p((function t(e,n){var r,i=e.strings,o=e._$litType$;f(this,t),this.parts=[];var s=0,a=0,u=i.length-1,c=this.parts,l=k(Q(i,o),2),d=l[0],h=l[1];if(this.el=t.createElement(d,n),K.currentNode=this.el.content,2===o){var p=this.el.content,v=p.firstChild;v.remove(),p.append.apply(p,A(v.childNodes))}for(;null!==(r=K.nextNode())&&c.length<u;){if(1===r.nodeType){if(r.hasAttributes()){var g,m=[],y=S(r.getAttributeNames());try{for(y.s();!(g=y.n()).done;){var b=g.value;if(b.endsWith("$lit$")||b.startsWith(T)){var w=h[a++];if(m.push(b),void 0!==w){var x=r.getAttribute(w.toLowerCase()+"$lit$").split(T),E=/([.?@])?(.*)/.exec(w);c.push({type:1,index:s,name:E[2],strings:x,ctor:"."===E[1]?st:"?"===E[1]?ut:"@"===E[1]?ct:ot})}else c.push({type:6,index:s})}}}catch(t){y.e(t)}finally{y.f()}for(var _=0,C=m;_<C.length;_++){var M=C[_];r.removeAttribute(M)}}if(F.test(r.tagName)){var $=r.textContent.split(T),O=$.length-1;if(O>0){r.textContent=L?L.emptyScript:"";for(var I=0;I<O;I++)r.append($[I],j()),K.nextNode(),c.push({type:2,index:++s});r.append($[O],j())}}}else if(8===r.nodeType)if(r.data===P)c.push({type:2,index:s});else for(var N=-1;-1!==(N=r.data.indexOf(T,N+1));)c.push({type:7,index:s}),N+=T.length-1;s++}}),null,[{key:"createElement",value:function(t,e){var n=W.createElement("template");return n.innerHTML=t,n}}])}();function et(t,e){var n,r,i,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a=arguments.length>3?arguments[3]:void 0;if(e===J)return e;var u=void 0!==a?null===(n=s._$Cl)||void 0===n?void 0:n[a]:s._$Cu,c=q(e)?void 0:e._$litDirective$;return(null==u?void 0:u.constructor)!==c&&(null===(r=null==u?void 0:u._$AO)||void 0===r||r.call(u,!1),void 0===c?u=void 0:(u=new c(t))._$AT(t,s,a),void 0!==a?(null!==(i=(o=s)._$Cl)&&void 0!==i?i:o._$Cl=[])[a]=u:s._$Cu=u),void 0!==u&&(e=et(t,u._$AS(t,e.values),u,a)),e}var nt,rt=function(){return p((function t(e,n){f(this,t),this.v=[],this._$AN=void 0,this._$AD=e,this._$AM=n}),[{key:"parentNode",get:function(){return this._$AM.parentNode}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"p",value:function(t){var e,n=this._$AD,r=n.el.content,i=n.parts,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:W).importNode(r,!0);K.currentNode=o;for(var s=K.nextNode(),a=0,u=0,c=i[0];void 0!==c;){if(a===c.index){var l=void 0;2===c.type?l=new it(s,s.nextSibling,this,t):1===c.type?l=new c.ctor(s,c.name,c.strings,this,t):6===c.type&&(l=new lt(s,this,t)),this.v.push(l),c=i[++u]}a!==(null==c?void 0:c.index)&&(s=K.nextNode(),a++)}return o}},{key:"m",value:function(t){var e,n=0,r=S(this.v);try{for(r.s();!(e=r.n()).done;){var i=e.value;void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}}catch(t){r.e(t)}finally{r.f()}}}])}(),it=function(){function t(e,n,r,i){var o;f(this,t),this.type=2,this._$AH=Y,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$C_=null===(o=null==i?void 0:i.isConnected)||void 0===o||o}return p(t,[{key:"_$AU",get:function(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}},{key:"parentNode",get:function(){var t=this._$AA.parentNode,e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}},{key:"startNode",get:function(){return this._$AA}},{key:"endNode",get:function(){return this._$AB}},{key:"_$AI",value:function(t){t=et(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this),q(t)?t===Y||null==t||""===t?(this._$AH!==Y&&this._$AR(),this._$AH=Y):t!==this._$AH&&t!==J&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):function(t){return H(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator])}(t)?this.O(t):this.$(t)}},{key:"S",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(t,e)}},{key:"k",value:function(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}},{key:"$",value:function(t){this._$AH!==Y&&q(this._$AH)?this._$AA.nextSibling.data=t:this.k(W.createTextNode(t)),this._$AH=t}},{key:"T",value:function(t){var e,n=t.values,r=t._$litType$,i="number"==typeof r?this._$AC(t):(void 0===r.el&&(r.el=tt.createElement(r.h,this.options)),r);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===i)this._$AH.m(n);else{var o=new rt(i,this),s=o.p(this.options);o.m(n),this.k(s),this._$AH=o}}},{key:"_$AC",value:function(t){var e=Z.get(t.strings);return void 0===e&&Z.set(t.strings,e=new tt(t)),e}},{key:"O",value:function(e){H(this._$AH)||(this._$AH=[],this._$AR());var n,r,i=this._$AH,o=0,s=S(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;o===i.length?i.push(n=new t(this.S(j()),this.S(j()),this,this.options)):n=i[o],n._$AI(a),o++}}catch(t){s.e(t)}finally{s.f()}o<i.length&&(this._$AR(n&&n._$AB.nextSibling,o),i.length=o)}},{key:"_$AR",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._$AA.nextSibling,n=arguments.length>1?arguments[1]:void 0;for(null===(t=this._$AP)||void 0===t||t.call(this,!1,!0,n);e&&e!==this._$AB;){var r=e.nextSibling;e.remove(),e=r}}},{key:"setConnected",value:function(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}])}(),ot=function(){return p((function t(e,n,r,i,o){f(this,t),this.type=1,this._$AH=Y,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=o,r.length>2||""!==r[0]||""!==r[1]?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Y}),[{key:"tagName",get:function(){return this.element.tagName}},{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=this.strings,o=!1;if(void 0===i)t=et(this,t,e,0),(o=!q(t)||t!==this._$AH&&t!==J)&&(this._$AH=t);else{var s,a,u=t;for(t=i[0],s=0;s<i.length-1;s++)(a=et(this,u[n+s],e,s))===J&&(a=this._$AH[s]),o||(o=!q(a)||a!==this._$AH[s]),a===Y?t=Y:t!==Y&&(t+=(null!=a?a:"")+i[s+1]),this._$AH[s]=a}o&&!r&&this.P(t)}},{key:"P",value:function(t){t===Y?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}])}(),st=function(t){function n(){var t;return f(this,n),(t=e(this,n,arguments)).type=3,t}return g(n,ot),p(n,[{key:"P",value:function(t){this.element[this.name]=t===Y?void 0:t}}])}(),at=L?L.emptyScript:"",ut=function(t){function n(){var t;return f(this,n),(t=e(this,n,arguments)).type=4,t}return g(n,ot),p(n,[{key:"P",value:function(t){t&&t!==Y?this.element.setAttribute(this.name,at):this.element.removeAttribute(this.name)}}])}(),ct=function(t){function n(t,r,i,o,s){var a;return f(this,n),(a=e(this,n,[t,r,i,o,s])).type=5,a}return g(n,ot),p(n,[{key:"_$AI",value:function(t){var e;if((t=null!==(e=et(this,t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,0))&&void 0!==e?e:Y)!==J){var n=this._$AH,r=t===Y&&n!==Y||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,i=t!==Y&&(n===Y||r);r&&this.element.removeEventListener(this.name,this,n),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}}},{key:"handleEvent",value:function(t){var e,n;"function"==typeof this._$AH?this._$AH.call(null!==(n=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==n?n:this.element,t):this._$AH.handleEvent(t)}}])}(),lt=function(){return p((function t(e,n,r){f(this,t),this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}),[{key:"_$AU",get:function(){return this._$AM._$AU}},{key:"_$AI",value:function(t){et(this,t)}}])}(),dt=O.litHtmlPolyfillSupport;null==dt||dt(tt,it),(null!==($=O.litHtmlVersions)&&void 0!==$?$:O.litHtmlVersions=[]).push("2.3.1");var ft,ht,pt,vt=new WeakMap,gt=new WeakSet,mt=function(n){function i(){var t;f(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(t=e(this,i,[].concat(r)),gt),C(t,vt,void 0),t}return g(i,b(HTMLElement)),p(i,[{key:"type",get:function(){return this.getAttribute("type")}},{key:"message",get:function(){return this.getAttribute("message")}},{key:"visible",get:function(){return this.getAttribute("visible")},set:function(t){this.setAttribute("visible",t)}},{key:"connectedCallback",value:function(){var e=this;t(gt,this,yt).call(this),setTimeout((function(){r(vt,e,e.message),e.removeAttribute("message"),e.visible="visible"}),50),setTimeout((function(){e.visible="",setTimeout((function(){return e.remove()}),225)}),4e3)}},{key:"attributeChangedCallback",value:function(e,n,r){"visible"===e&&n!==r&&t(gt,this,yt).call(this)}}],[{key:"observedAttributes",get:function(){return["visible"]}}])}();function yt(){X(G(nt||(nt=w(["\n\t\t\t<div class='toast "," ","' role='alert'>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this.type,this.visible,n(vt,this)),this)}var bt=new WeakMap,wt=new WeakSet,kt=function(n){function i(){var t;f(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(t=e(this,i,[].concat(r)),wt),C(t,bt,void 0),t}return g(i,b(HTMLElement)),p(i,[{key:"list",get:function(){return this.getAttribute("list").split(",").filter((function(t){return t}))},set:function(t){this.setAttribute("list",t)}},{key:"connectedCallback",value:function(){r(bt,this,this.closest("div, article").querySelector("input")),t(wt,this,xt).call(this)}},{key:"attributeChangedCallback",value:function(e,n,r){"list"===e&&n!==r&&t(wt,this,xt).call(this)}}],[{key:"observedAttributes",get:function(){return["list"]}}])}();function At(t){t&&(n(bt,this).value=t),n(bt,this).focus(),this.dispatchEvent(new CustomEvent("listReset"))}function xt(){var e=this;X(this.list.length?G(ft||(ft=w(["\n\t\t\t<div class='propose'>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this.list.map((function(n){return G(ht||(ht=w(['\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref="#"\n\t\t\t\t\t\t\t\t\t@click="','"\n\t\t\t\t\t\t\t\t\t@keyup="','"\n\t\t\t\t\t\t\t>',"</a>\n\t\t\t\t\t\t"])),(function(r){r.preventDefault(),t(wt,e,At).call(e,n)}),(function(r){"ArrowDown"===r.key&&r.target.nextElementSibling&&r.target.nextElementSibling.focus(),"ArrowUp"===r.key&&r.target.previousElementSibling&&r.target.previousElementSibling.focus(),"Enter"===r.key&&t(wt,e,At).call(e,n)}),n)}))):G(pt||(pt=w([""]))),this)}var Et,St,_t,Ct,Mt,$t,Ot,Lt,It,Tt=function(){return p((function t(){f(this,t)}),null,[{key:"newDom",value:function(t){return this.setCurrent(t)}},{key:"setCurrent",value:function(t){return this.currentElement=t,this}},{key:"elt",value:function(t,e){var n=document.createElement(t);return e&&(n.className=e),this.currentElement.appendChild(n),this.currentElement=n,this}},{key:"svg",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.classList.add(t);var n=document.createElementNS("http://www.w3.org/2000/svg","use");return e.appendChild(n),n.setAttribute("href","#".concat(t)),this.currentElement.appendChild(e),this.currentElement=e,this}},{key:"att",value:function(t,e){return null!==e&&this.currentElement.setAttribute(t,e),this}},{key:"text",value:function(t){return null!==t&&this.currentElement.appendChild(document.createTextNode(t)),this}},{key:"listen",value:function(t,e){return this.currentElement.addEventListener(t,e,!1),this}},{key:"up",value:function(){return this.currentElement=this.currentElement.parentNode,this.currentElement||(this.currentElement=document.body),this}},{key:"clear",value:function(){return this.currentElement.innerHTML="",this}},{key:"current",value:function(){return this.currentElement}},{key:"remove",value:function(){this.currentElement.remove()}}])}(),Pt=function(){return p((function t(){f(this,t)}),null,[{key:"set",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=0;r<e.length;r++)r%2==0&&sessionStorage.setItem(e[r],JSON.stringify(e[r+1]))}},{key:"get",value:function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((function(e){return t.push(JSON.parse(sessionStorage.getItem(e)))})),1===(t=t.filter((function(t){return t}))).length&&t.length===n.length?t[0]:t.length&&t.length===n.length?t:null}}])}(),Nt=function(){function t(){f(this,t)}return p(t,null,[{key:"helpers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.confirmMessage,n=void 0===e?"":e,r=t.cbConfirm,i=void 0===r?null:r,o=t.cbCancel,s=void 0===o?null:o,a=t.isConfirmInit,u=void 0===a||a,c=t.loaderVisible,l=void 0!==c&&c;X(G(Et||(Et=w(['\n\t\t\t<fs-loader ?visible="','"></fs-loader>\n\t\t\t<fs-confirm .message="','" ?open="','" @modalConfirm="','" @modalCancel="','"></fs-confirm>\n\t\t'])),l,n,u?!u:Math.random(),(function(){return i()}),(function(){return s()})),document.body)}},{key:"loader",value:function(t){this.helpers({loaderVisible:t})}},{key:"confirm",value:function(t,e,n){this.helpers({confirmMessage:t,cbConfirm:e,isConfirmInit:!1,cbCancel:n})}},{key:"toast",value:function(t,e){Tt.newDom(document.body).elt("fs-toast").att("type",t).att("message",e)}},{key:"request",value:(n=d(a().mark((function t(e){var n,r,i,o,u=arguments;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2?u[2]:void 0,i=u.length>3?u[3]:void 0,t.next=5,fetch(e,s(s({},{method:n}),r));case 5:if(o=t.sent,"status"!==i||"HEAD"!==n){t.next=8;break}return t.abrupt("return",o.status);case 8:if(200===o.status||204===o.status){t.next=13;break}console.error("Request failed : "+o.status),console.log(o),t.next=20;break;case 13:t.t0=i,t.next="blob"===t.t0?16:"text"===t.t0?17:"response"===t.t0?18:19;break;case 16:return t.abrupt("return",o.blob());case 17:return t.abrupt("return",o.text());case 18:return t.abrupt("return",o);case 19:return t.abrupt("return",o.json());case 20:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"getFragmentHtml",value:(e=d(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Pt.get(n),e.t0){e.next=5;break}return e.next=4,t.request(n,"POST");case 4:e.t0=e.sent;case 5:return r=e.t0,Pt.set(n,r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})}]);var e,n}(),Wt=new WeakSet,jt=function(n){function r(){var t;f(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return M(t=e(this,r,[].concat(i)),Wt),t}return g(r,b(HTMLElement)),p(r,[{key:"open",get:function(){return this.hasAttribute("open")},set:function(t){t?this.setAttribute("open",""):this.removeAttribute("open")}},{key:"connectedCallback",value:function(){t(Wt,this,Ht).call(this),this.style.display="none"}},{key:"attributeChangedCallback",value:function(e,n,r){var i=this;"open"===e&&n!==r&&(this.style.display="",setTimeout((function(){return t(Wt,i,Ht).call(i)}),50))}}],[{key:"observedAttributes",get:function(){return["open"]}}])}();function qt(){var e=this;this.open=!1,setTimeout((function(){e.style.display="none",e.message="",t(Wt,e,Ht).call(e)}),225)}function Ht(){var e=this;X(G(St||(St=w(['\n\t\t\t<dialog ?open="','">\n\t\t\t\t<article>\n\t\t\t\t\t','\n\t\t\t\t\t<footer>\n\t\t\t\t\t\t<a role="button" class="secondary" @click="','">Cancel</a>\n\t\t\t\t\t\t<a role="button" @click="','">Confirm</a>\n\t\t\t\t\t</footer>\n\t\t\t\t</article>\n\t\t\t</dialog>\n\t\t'])),this.open,this.message,(function(n){n.preventDefault(),e.dispatchEvent(new CustomEvent("modalCancel")),t(Wt,e,qt).call(e)}),(function(n){n.preventDefault(),e.dispatchEvent(new CustomEvent("modalConfirm")),t(Wt,e,qt).call(e)})),this)}var Dt,Rt,zt,Bt,Vt,Ut,Ft,Gt,Jt,Yt,Zt,Xt,Kt=new WeakMap,Qt=new WeakMap,te=new WeakSet,ee=function(n){function i(){var t;f(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(t=e(this,i,[].concat(r)),te),C(t,Kt,void 0),C(t,Qt,void 0),t}return g(i,b(HTMLElement)),p(i,[{key:"choiceMode",get:function(){return this.getAttribute("choiceMode")},set:function(t){t?this.setAttribute("choiceMode",t):this.removeAttribute("choiceMode")}},{key:"connectedCallback",value:(o=d(a().mark((function e(){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Kt,e.t2=this,e.next=5,t(te,this,ne).call(this);case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),t(te,this,se).call(this),this.querySelector("input").addEventListener("keyup",(function(e){return t(te,n,se).call(n,e.target.value)}));case 9:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"attributeChangedCallback",value:function(e,n,r){"choiceMode"===e&&n!==r&&t(te,this,ae).call(this)}}],[{key:"observedAttributes",get:function(){return["choiceMode"]}}]);var o}();function ne(){return re.apply(this,arguments)}function re(){return(re=d(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Pt.get("recipes"),t.t0){t.next=5;break}return t.next=4,Nt.request("/db","POST",{body:'{ "getRecipes": "" }'});case 4:t.t0=t.sent;case 5:return e=t.t0,Pt.set("recipes",e),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ie(t){return oe.apply(this,arguments)}function oe(){return(oe=d(a().mark((function e(i){var o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt.confirm(G(It||(It=w(["<h3>Voulez-vous vraiment supprimer ?</h3>"]))),d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Kt,e.t2=o,e.next=5,Nt.request("/db","POST",{body:'{ "removeRecipe": "'.concat(i._id,'" }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("recipes",n(Kt,o)),t(te,o,se).call(o),Nt.toast("success","Recette supprimée");case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e){r(Qt,this,(e&&Array.isArray(n(Kt,this))?n(Kt,this).filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})):!Array.isArray(n(Kt,this))&&Object.keys(n(Kt,this)).length?[n(Kt,this)]:n(Kt,this)).sort((function(t,e){return t.title.localeCompare(e.title)}))),t(te,this,ae).call(this)}function ae(){var e=this,r=[];X(G(_t||(_t=w(["\n\t\t\t",'\n\t\t\t<label>\n\t\t\t\t<input type="search" name="search" placeholder="Rechercher"/>\n\t\t\t</label>\n\t\t\t<aside>\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</aside>\n\t\t"])),this.choiceMode?"":G(Ct||(Ct=w(["<h2>Liste des recettes</h2>"]))),n(Qt,this).length?n(Qt,this).map((function(n){var i;return G($t||($t=w(["\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t"])),e.choiceMode?G(Ot||(Ot=w(['\n\t\t\t\t\t\t\t\t\t\t\t<label for="','">\n\t\t\t\t\t\t\t\t\t\t\t\t<input type="','" id="','" name="','" value="','" @change="','">\n\t\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t"])),n.slug,e.choiceMode,n.slug,"checkbox"===e.choiceMode?n.slug:"recipe",n.title,(function(t){var i=n._id;t.target.checked?r.push(i):r=r.filter((function(t){return t!==i}));var o={choices:r};"radio"===e.choiceMode&&(o=s(s({},o),{},{title:n.title})),document.body.dispatchEvent(new CustomEvent("modalConfirm",{detail:o}))}),n.title):G(Lt||(Lt=w(["\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>",'</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<fs-link role="button" class="edit" href="/app/recipe/edit/','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="edit">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#edit"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Éditer</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</fs-link>\n\t\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="remove" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="remove">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#remove"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Supprimer</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="ingredients">\n\t\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t"])),n.title,n.slug,(function(){return t(te,e,ie).call(e,n)}),null===(i=n.ingredients)||void 0===i?void 0:i.map((function(t,e){return t.title+(n.ingredients.length-1===e?"":", ")}))))})):G(Mt||(Mt=w(["\n\t\t\t\t\t\t\t<li>Aucun résultat</li>"])))),this)}var ue,ce=new WeakMap,le=new WeakMap,de=new WeakMap,fe=new WeakMap,he=new WeakSet,pe=function(n){function i(){var t;f(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(t=e(this,i,[].concat(r)),he),C(t,ce,void 0),C(t,le,void 0),C(t,de,void 0),C(t,fe,void 0),t}return g(i,b(HTMLElement)),p(i,[{key:"connectedCallback",value:(o=d(a().mark((function e(){var n,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Pt.get("ingredients","categories"),e.t0){e.next=5;break}return e.next=4,Nt.request("/db","POST",{body:'[{ "getIngredients": "" }, { "getCategories": "" }]'});case 4:e.t0=e.sent;case 5:n=e.t0,Pt.set("ingredients",n[0],"categories",n[1]),r(ce,this,n[0]),r(fe,this,n[1]),t(he,this,ke).call(this),this.querySelector("input").addEventListener("keyup",(function(e){return t(he,i,ke).call(i,e.target.value)}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})}]);var o}();function ve(t,e){return ge.apply(this,arguments)}function ge(){return(ge=d(a().mark((function e(i,o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=ce,e.t2=this,e.next=5,Nt.request("/db","POST",{body:'{ "setIngredients": { "ingredients": [ { "title": "'.concat(o,'", "id": "').concat(i,'" } ] } }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("ingredients",n(ce,this)),t(he,this,me).call(this);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function me(){r(le,this,null),t(he,this,ke).call(this,this.querySelector("input").value)}function ye(t){return be.apply(this,arguments)}function be(){return(be=d(a().mark((function e(i){var o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt.confirm(G(Xt||(Xt=w(["<h3>Voulez-vous vraiment supprimer ?</h3>"]))),d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=ce,e.t2=o,e.next=5,Nt.request("/db","POST",{body:'{ "removeIngredient": "'.concat(i,'" }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("ingredients",n(ce,o)),t(he,o,ke).call(o,o.querySelector("input").value),Nt.toast("success","Ingrédient supprimé");case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,i,o,s){var u,c=this;document.body.addEventListener("modalConfirm",(function(t){u=t.detail.id})),Nt.confirm(G(Dt||(Dt=w(['\n\t\t\t<fs-categories choiceMode="','"/>\n\t\t'])),s),d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=ce,e.t2=c,e.next=5,Nt.request("/db","POST",{body:'{ "setIngredients": { "ingredients": [ { "title": "'.concat(o,'", "id": "').concat(i,'", "category": "').concat(u,'" } ] } }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("ingredients",n(ce,c)),t(he,c,ke).call(c);case 9:case"end":return e.stop()}}),e)}))))}function ke(e){r(de,this,(e?n(ce,this).filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})):n(ce,this)).sort((function(t,e){return t.title.localeCompare(e.title)}))),t(he,this,Ae).call(this)}function Ae(){var e=this;X(G(Rt||(Rt=w(['\n\t\t\t<h2>Liste des ingrédients</h2>\n\t\t\t<label>\n\t\t\t\t<input type="search" name="search" placeholder="Rechercher"/>\n\t\t\t</label>\n\t\t\t<aside>\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</aside>\n\t\t"])),n(de,this).length?n(de,this).map((function(i){var o=i.title,s=n(fe,e).map((function(t){return t._id===i.category&&t.title})).filter((function(t){return t}))[0],a=i._id;return G(Bt||(Bt=w(["\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t"])),n(le,e)===a?G(Vt||(Vt=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input name="','" required type="text" value="','" @keyup="','"/>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),a,o,(function(n){"Enter"===n.key&&t(he,e,ve).call(e,a,n.target.value),"Escape"===n.key&&t(he,e,me).call(e)})):G(Ut||(Ut=w(["\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>","","</span>\n\t\t\t\t\t\t\t\t\t\t\t\t"])),o,s?G(Ft||(Ft=w([" (",")"])),s):""),n(le,e)===a?G(Gt||(Gt=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="valid" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="valid">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#valid"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Valider</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(n){return t(he,e,ve).call(e,a,n.target.closest("button").previousElementSibling.value)})):G(Jt||(Jt=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="edit" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="edit">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#edit"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Modifier</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(){r(le,e,a),t(he,e,ke).call(e,e.querySelector("input").value)})),n(le,e)===a?G(Yt||(Yt=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="undo" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="undo">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#undo"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Annuler</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(){return t(he,e,me).call(e)})):G(Zt||(Zt=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="remove" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="remove">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#remove"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Supprimer</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="setCategory" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="setCategory">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#setCategory"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Associer une catégorie</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(){return t(he,e,ye).call(e,a)}),(function(n){return t(he,e,we).call(e,n,a,o,i.category)})))})):G(zt||(zt=w(["\n\t\t\t\t\t\t\t<li>Aucun résultat</li>"])))),this)}var xe,Ee,Se,_e=function(){function t(){f(this,t)}return p(t,null,[{key:"renderAddIngredientInDialog",value:function(e,n){var r=this,i=document.querySelector("fs-confirm > dialog > article");X(n?"":G(ue||(ue=w(['\n\t\t\t<div class="addIngredient">\n\t\t\t\t<input\n\t\t\t\t\t\tautocomplete="off" class="ingredient" name="ingredient" required type="text" value="','"\n\t\t\t\t\t\t@input="','"\n\t\t\t\t\t\t@keyup="','"/>\n\t\t\t\t<fs-propose list="','" @listReset="','"></fs-propose>\n\t\t\t</div>\n\t\t\t<input autocomplete="off" class="size" name="size" type="number" value="','" @change="','"/>\n\t\t\t<select class="unit" name="\'unit\'" @input="','">\n\t\t\t\t<option class="nb" ?selected="','" value="nb">','</option>\n\t\t\t\t<option class="g" ?selected="','" value="g">','</option>\n\t\t\t\t<option class="cl" ?selected="','" value="cl">',"</option>\n\t\t\t</select>\n\t\t"])),null==e?void 0:e.title,(function(t){return document.body.dispatchEvent(new CustomEvent("modalConfirm",{detail:{event:t}}))}),(function(i){"Enter"!==i.key&&(t.managePropositions(i),r.renderAddIngredientInDialog(e,n))}),t.propositions,(function(){t.setPropositions(),r.renderAddIngredientInDialog(e,n)}),null==e?void 0:e.size,(function(t){return document.body.dispatchEvent(new CustomEvent("modalConfirm",{detail:{event:t}}))}),(function(t){return document.body.dispatchEvent(new CustomEvent("modalConfirm",{detail:{event:t}}))}),"nb"===(null==e?void 0:e.unit),this.strings.numberComplete,"g"===(null==e?void 0:e.unit),this.strings.gramComplete,"cl"===(null==e?void 0:e.unit),this.strings.centiliterComplete),i,{renderBefore:i.querySelector("footer")})}},{key:"setPropositions",value:function(t){this.savedIngredients&&this.savedIngredients.length&&(this.propositions=t?this.savedIngredients.length&&this.savedIngredients.map((function(t){return t.title})).filter((function(e){return e.toLowerCase().includes(t.toLowerCase())})):[])}},{key:"clearPropositionsOnBackgroundClick",value:function(t){var e=this;document.body.addEventListener("click",(function(n){n.target.closest("div.propose")||(e.setPropositions(),t())}))}},{key:"managePropositions",value:function(t,e){var n,r=t.target;if(this.setPropositions(r.value),"ArrowDown"===t.key&&this.propositions)r.closest("article").querySelector("fs-propose a:first-child").focus();else if(0===r.value.length||this.propositions.length&&1===this.propositions.length&&this.propositions[0].toLowerCase()===(null===(n=r.value)||void 0===n?void 0:n.toLowerCase())){var i,o;(null===(i=this.propositions[0])||void 0===i?void 0:i.toLowerCase())===(null===(o=r.value)||void 0===o?void 0:o.toLowerCase())&&(r.value=this.propositions[0]),this.setPropositions()}}}])}();v(_e,"strings",{ordered:"Acheté",gram:"Gr",centiliter:"Cl",number:"Nb",gramComplete:"Gramme",centiliterComplete:"Centilitre",numberComplete:"Nombre"}),_e.savedIngredients=[];var Ce=new WeakMap,Me=new WeakMap,$e=new WeakMap,Oe=new WeakMap,Le=new WeakMap,Ie=new WeakMap,Te=new WeakMap,Pe=new WeakMap,Ne=new WeakMap,We=new WeakSet,je=function(i){function o(){var t;f(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return M(t=e(this,o,[].concat(r)),We),C(t,Ce,void 0),C(t,Me,void 0),C(t,$e,void 0),C(t,Oe,void 0),C(t,Le,void 0),C(t,Ie,void 0),C(t,Te,void 0),C(t,Pe,void 0),C(t,Ne,void 0),t}return g(o,b(HTMLElement)),p(o,[{key:"connectedCallback",value:(s=d(a().mark((function e(){var i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e.clearPropositionsOnBackgroundClick((function(){return t(We,o,ze).call(o)})),i=location.pathname.split("/"),r(Ce,this,"Ajouter"),r(Me,this,"Ajouter une recette"),r($e,this,i.includes("edit")),r(Oe,this,n($e,this)),!n($e,this)){e.next=27;break}if(r(Le,this,i[i.length-1]),e.t0=r,e.t1=Ie,e.t2=this,e.t3=Pt.get("".concat(n(Le,this))),e.t3){e.next=16;break}return e.next=15,Nt.request("/db","POST",{body:'{ "getRecipes": { "slug": "'.concat(n(Le,this),'" } }')});case 15:e.t3=e.sent;case 16:e.t4=e.t3,(0,e.t0)(e.t1,e.t2,e.t4),Pt.set(n(Le,this),n(Ie,this)),Array.isArray(n(Ie,this))&&(location.href=location.origin+"/404.html"),r(Te,this,n(Ie,this).title),r(Pe,this,n(Ie,this)._id),r(Ce,this,"Modifier"),r(Me,this,"Modifier une recette"),r(Ne,this,n(Ie,this).ingredients),e.next=28;break;case 27:r(Ne,this,[]);case 28:if(e.t5=Pt.get("ingredients"),e.t5){e.next=33;break}return e.next=32,Nt.request("/db","POST",{body:'{ "getIngredients": "" }'});case 32:e.t5=e.sent;case 33:_e.savedIngredients=e.t5,Pt.set("ingredients",_e.savedIngredients),document.body.style.display="flex",t(We,this,ze).call(this),t(We,this,qe).call(this);case 38:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}]);var s}();function qe(){var e=this,i=this.querySelector("form");i.addEventListener("keypress",function(){var t=d(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Enter"===e.key&&e.preventDefault();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),i.addEventListener("submit",function(){var o=d(a().mark((function o(s){var u,c,l,d,f;return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s.preventDefault(),o.prev=1,u=Object.fromEntries(new FormData(i).entries()),c=u.id,l=Object.keys(u),d=l.reduce((function(t,e){if("recipe"!==e&&"id"!==e&&(!t.some((function(t){return t.title===u[e]}))&&e.includes("ingredient")&&t.push({title:u[e]}),!e.includes("ingredient"))){var n=e.split("_");t[0===Number(n[1])?t.length-1:Number(n[1])-1][n[0]]=u[e]}return t}),[]),n($e,e)&&(n(Ie,e).ingredients=d,Pt.set(n(Le,e),n(Ie,e))),Nt.loader(!0),o.next=10,Nt.request("/db","POST",{body:'{ "setRecipe": { "title": "'.concat(u.recipe,'", ').concat(c?'"id": "'.concat(c,'",'):"",' "ingredients": ').concat(JSON.stringify(d),"} }")});case 10:f=o.sent,Pt.set("recipes",f[0]),Nt.loader(!1),n($e,e)?location.href="/app/recipes":(r(Ne,e,[]),document.querySelectorAll("input").forEach((function(t){t.value=""})),Nt.toast("success","Recette enregistrée"),_e.savedIngredients=f[1],Pt.set("ingredients",_e.savedIngredients),t(We,e,ze).call(e)),o.next=19;break;case 16:o.prev=16,o.t0=o.catch(1),console.error(o.t0);case 19:case"end":return o.stop()}}),o,null,[[1,16]])})));return function(t){return o.apply(this,arguments)}}())}function He(e,r){var i=e.target.closest("article"),o=i.querySelector(".ingredient"),s=i.querySelector(".size"),a=i.querySelector(".unit");if(null!=o&&o.value){var u={title:o.value,size:s.value,unit:a.value};void 0!==r?n(Ne,this)[r]=u:n(Ne,this).push(u),t(We,this,ze).call(this)}}function De(e){_e.setPropositions(),n(Ne,this).splice(e,1),t(We,this,ze).call(this)}function Re(e,n){var r,i=this;document.body.addEventListener("modalConfirm",(function(t){r=t.detail.event})),Nt.confirm(G(xe||(xe=w([""]))),d(a().mark((function o(){return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:void 0!==n?t(We,i,He).call(i,r,n):t(We,i,He).call(i,r),_e.renderAddIngredientInDialog(e,!0);case 2:case"end":return o.stop()}}),o)}))),(function(){return _e.renderAddIngredientInDialog(e,!0)})),_e.renderAddIngredientInDialog(e)}function ze(){var e,r=this;X(G(Ee||(Ee=w(["\n\t\t\t<h2>",'</h2>\n\t\t\t<form>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Nom</span>\n\t\t\t\t\t<input autocomplete="off" name="recipe" required type="text" value="','">\n\t\t\t\t\t<input name="id" type="hidden" value="','">\n\t\t\t\t</label>\n\t\t\t\t<fieldset class="ingredients">\n\t\t\t\t\t<div class="title">\n\t\t\t\t\t\t<legend>Ingrédients</legend>\n\t\t\t\t\t\t<button type="button" class="add" @click="','">\n\t\t\t\t\t\t\t<svg class="add">\n\t\t\t\t\t\t\t\t<use href="#add"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<span>Ajouter un ingrédient</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t','\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t\t<button type="submit">\n\t\t\t\t\t<span>',"</span>\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t"])),n(Me,this),n(Te,this)||"",n(Pe,this)||"",(function(){return t(We,r,Re).call(r)}),null===(e=n(Ne,this))||void 0===e?void 0:e.map((function(e,n){return G(Se||(Se=w(['\n\t\t\t\t\t\t\t\t<div class="grid">\n\t\t\t\t\t\t\t\t\t<span>',"",'</span>\n\t\t\t\t\t\t\t\t\t<input name="ingredient_','" type="hidden" value="','"/>\n\t\t\t\t\t\t\t\t\t<input name="size_','" type="hidden" value="','"/>\n\t\t\t\t\t\t\t\t\t<input name="unit_','" type="hidden" value="','"/>\n\t\t\t\t\t\t\t\t\t<button type="button" class="edit" @click="','">\n\t\t\t\t\t\t\t\t\t\t<svg class="edit">\n\t\t\t\t\t\t\t\t\t\t\t<use href="#edit"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<span>Supprimer un ingrédient</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button type="button" class="remove" @click="','">\n\t\t\t\t\t\t\t\t\t\t<svg class="minus">\n\t\t\t\t\t\t\t\t\t\t\t<use href="#minus"></use>\n\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t<span>Supprimer un ingrédient</span>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t'])),(null==e?void 0:e.title)||e,null!=e&&e.size?" (".concat(null==e?void 0:e.size).concat(null!=e&&e.unit&&"nb"!==(null==e?void 0:e.unit)?" ".concat(null==e?void 0:e.unit):"",")"):"",n+1,(null==e?void 0:e.title)||e,n+1,(null==e?void 0:e.size)||"",n+1,(null==e?void 0:e.unit)||"",(function(){return t(We,r,Re).call(r,e,n)}),(function(){return t(We,r,De).call(r,n)}))})),n(Ce,this)),this)}var Be,Ve,Ue,Fe=new Set,Ge=new WeakMap,Je=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,Xe=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,tn=new WeakSet,en="__aa_tgt",nn="__aa_del";function rn(t){var e=Ze.get(t);null==e||e.disconnect();var n=Ge.get(t),r=0;n||(n=ln(t),Ge.set(t,n));var i=Be,o=i.offsetWidth,s=i.offsetHeight,a=[n.top-5,o-(n.left+5+n.width),s-(n.top+5+n.height),n.left-5].map((function(t){return-1*Math.floor(t)+"px"})).join(" "),u=new IntersectionObserver((function(){++r>1&&on(t)}),{root:Be,threshold:1,rootMargin:a});u.observe(t),Ze.set(t,u)}function on(t){clearTimeout(Qe.get(t));var e=fn(t),n="function"==typeof e?500:e.duration;Qe.set(t,setTimeout(d(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ye.get(t),e.t0=n,!e.t0){e.next=6;break}return e.next=5,n.finished;case 5:e.t0=!e.sent;case 6:if(e.t1=e.t0,e.t1){e.next=9;break}Ge.set(t,ln(t)),rn(t);case 9:case"end":return e.stop()}}),e)}))),n))}function sn(t){setTimeout((function(){Xe.set(t,setInterval((function(){return an(on.bind(null,t))}),2e3))}),Math.round(2e3*Math.random()))}function an(t){"function"==typeof requestIdleCallback?requestIdleCallback((function(){return t()})):requestAnimationFrame((function(){return t()}))}function un(t,e){e||en in t?e&&!(en in e)&&Object.defineProperty(e,en,{value:t}):Object.defineProperty(t,en,{value:t})}function cn(t){return Number(t.replace(/[^0-9.\-]/g,""))}function ln(t){var e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function dn(t,e,n){var r=e.width,i=e.height,o=n.width,s=n.height,a=getComputedStyle(t);if("content-box"===a.getPropertyValue("box-sizing")){var u=cn(a.paddingTop)+cn(a.paddingBottom)+cn(a.borderTopWidth)+cn(a.borderBottomWidth),c=cn(a.paddingLeft)+cn(a.paddingRight)+cn(a.borderRightWidth)+cn(a.borderLeftWidth);r-=c,o-=c,i-=u,s-=u}return[r,o,i,s].map(Math.round)}function fn(t){return en in t&&Ke.has(t[en])?Ke.get(t[en]):{duration:250,easing:"ease-in-out"}}function hn(t){if(en in t)return t[en]}function pn(t){var e=hn(t);return!!e&&tn.has(e)}function vn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.forEach((function(e){return e(t,Ke.has(t))}));for(var i=function(){var e=t.children.item(o);e&&n.forEach((function(t){return t(e,Ke.has(e))}))},o=0;o<t.children.length;o++)i()}"undefined"!=typeof window&&(Be=document.documentElement,Ve=new MutationObserver((function(t){var e=function(t){return t.reduce((function(t,e){if(!1===t)return!1;if(e.target instanceof Element){if(un(e.target),!t.has(e.target)){t.add(e.target);for(var n=0;n<e.target.children.length;n++){var r=e.target.children.item(n);if(r){if(nn in r)return!1;un(e.target,r),t.add(r)}}}if(e.removedNodes.length)for(var i=0;i<e.removedNodes.length;i++){var o=e.removedNodes[i];if(nn in o)return!1;o instanceof Element&&(t.add(o),un(e.target,o),Je.set(o,[e.previousSibling,e.nextSibling]))}}return t}),new Set)}(t);e&&e.forEach((function(t){return function(t){var e,n=Be.contains(t),r=Ge.has(t);n&&Je.has(t)&&Je.delete(t),Ye.has(t)&&(null===(e=Ye.get(t))||void 0===e||e.cancel()),r&&n?function(t){var e,n=Ge.get(t),r=ln(t);if(!pn(t))return Ge.set(t,r);if(!n)return;var i=fn(t);if("function"!=typeof i){var o=n.left-r.left,s=n.top-r.top,a=k(dn(t,n,r),4),u=a[0],c=a[1],l=a[2],d=a[3],f={transform:"translate(".concat(o,"px, ").concat(s,"px)")},h={transform:"translate(0, 0)"};u!==c&&(f.width="".concat(u,"px"),h.width="".concat(c,"px")),l!==d&&(f.height="".concat(l,"px"),h.height="".concat(d,"px")),e=t.animate([f,h],{duration:i.duration,easing:i.easing})}else e=new Animation(i(t,"remain",n,r)),e.play();Ye.set(t,e),Ge.set(t,r),e.addEventListener("finish",on.bind(null,t))}(t):r&&!n?function(t){var e;if(!Je.has(t)||!Ge.has(t))return;var n=Je.get(t),r=k(n,2),i=r[0],o=r[1];function s(){var e;t.remove(),Ge.delete(t),Je.delete(t),Ye.delete(t),null===(e=Ze.get(t))||void 0===e||e.disconnect()}if(Object.defineProperty(t,nn,{value:!0}),o&&o.parentNode&&o.parentNode instanceof Element?o.parentNode.insertBefore(t,o):i&&i.parentNode?i.parentNode.appendChild(t):null===(e=hn(t))||void 0===e||e.appendChild(t),!pn(t))return s();var a,u=function(t){for(var e=Ge.get(t),n=k(dn(t,e,ln(t)),3),r=n[0],i=n[2],o=t.parentElement;o&&("static"===getComputedStyle(o).position||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);var s=getComputedStyle(o),a=Ge.get(o)||ln(o);return[Math.round(e.top-a.top)-cn(s.borderTopWidth),Math.round(e.left-a.left)-cn(s.borderLeftWidth),r,i]}(t),c=k(u,4),l=c[0],d=c[1],f=c[2],h=c[3],p=fn(t),v=Ge.get(t);Object.assign(t.style,{position:"absolute",top:"".concat(l,"px"),left:"".concat(d,"px"),width:"".concat(f,"px"),height:"".concat(h,"px"),margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),"function"!=typeof p?a=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:p.duration,easing:"ease-out"}):(a=new Animation(p(t,"remove",v)),a.play()),Ye.set(t,a),a.addEventListener("finish",s)}(t):function(t){var e=ln(t);Ge.set(t,e);var n,r=fn(t);if(!pn(t))return;"function"!=typeof r?n=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:1.5*r.duration,easing:"ease-in"}):(n=new Animation(r(t,"add",e)),n.play()),Ye.set(t,n),n.addEventListener("finish",on.bind(null,t))}(t)}(t)}))})),Ue=new ResizeObserver((function(t){t.forEach((function(t){t.target===Be&&(clearTimeout(Qe.get(Be)),Qe.set(Be,setTimeout((function(){Fe.forEach((function(t){return vn(t,(function(t){return an((function(){return on(t)}))}))}))}),100))),Ge.has(t.target)&&on(t.target)}))})),Ue.observe(Be));var gn,mn,yn,bn,wn,kn,An,xn,En,Sn,_n,Cn,Mn,$n,On=function(){return p((function t(){f(this,t)}),null,[{key:"init",value:function(){this.connection=new WebSocket("".concat("http:"===location.protocol?"ws:":"wss:","//").concat(location.host))}},{key:"listen",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};1===this.connection.readyState&&n(),this.connection.onopen=n,this.connection.onerror=function(t){console.error("WebSocket Error "+t),e.connection.close()},this.connection.onclose=function(t){console.log("Socket is closed. Reconnect will be attempted in 1 second.",t.reason),setTimeout((function(){return e.init()}),1e3)},this.connection.onmessage=t}},{key:"send",value:function(t){this.connection.send(JSON.stringify(t))}}])}(),Ln=new WeakMap,In=new WeakMap,Tn=new WeakMap,Pn=new WeakMap,Nn=new WeakMap,Wn=new WeakSet,jn=function(n){function i(){var t;f(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(t=e(this,i,[].concat(r)),Wn),C(t,Ln,void 0),C(t,In,void 0),C(t,Tn,void 0),C(t,Pn,void 0),C(t,Nn,void 0),t}return g(i,b(HTMLElement)),p(i,[{key:"connectedCallback",value:(o=d(a().mark((function e(){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,On.listen(function(){var e=d(a().mark((function e(i){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Ln,e.t2=n,e.t3=JSON,e.next=6,i.data.text();case 6:e.t4=e.sent,e.t5=e.t3.parse.call(e.t3,e.t4),(0,e.t0)(e.t1,e.t2,e.t5),t(Wn,n,Hn).call(n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d(a().mark((function e(){var i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e.clearPropositionsOnBackgroundClick((function(){return t(Wn,n,Xn).call(n)})),e.t0=Pt.get("listIngredients","categories","ingredients"),e.t0){e.next=6;break}return e.next=5,Nt.request("/db","POST",{body:'[{ "getListIngredients": "" }, { "getCategories": "" }, { "getIngredients": "" }]'});case 5:e.t0=e.sent;case 6:if(i=e.t0,Pt.set("listIngredients",i[0],"categories",i[1],"ingredients",i[2]),r(Ln,n,i[0]),r(In,n,i[1]),_e.savedIngredients=i[2],r(Tn,n,[]),t(Wn,n,qn).call(n),e.t1=Pt.get("recipes","dishes"),e.t1){e.next=18;break}return e.next=17,Nt.request("/db","POST",{body:'[{ "getRecipes": "" }, { "getDishes": "" }]'});case 17:e.t1=e.sent;case 18:o=e.t1,Pt.set("recipes",o[0],"dishes",o[1]);case 20:case"end":return e.stop()}}),e)}))));case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}]);var o}();function qn(){On.send(n(Ln,this)),t(Wn,this,Hn).call(this)}function Hn(){Pt.set("listIngredients",n(Ln,this)),r(Pn,this,n(Ln,this).length?n(Ln,this).filter((function(t){return t.ordered})).map((function(t){return t._id})):[]),t(Wn,this,Xn).call(this);try{!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ve&&Ue&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&"function"!=typeof e&&!e.disrespectUserMotionPreference||(tn.add(t),"static"===getComputedStyle(t).position&&Object.assign(t.style,{position:"relative"}),vn(t,on,sn,(function(t){return null==Ue?void 0:Ue.observe(t)})),"function"==typeof e?Ke.set(t,e):Ke.set(t,s({duration:250,easing:"ease-in-out"},e)),Ve.observe(t,{childList:!0}),Fe.add(t))),Object.freeze({parent:t,enable:function(){tn.add(t)},disable:function(){tn.delete(t)},isEnabled:function(){return tn.has(t)}})}(document.querySelector("ul"))}catch(t){}}function Dn(){r(Nn,this,null),t(Wn,this,qn).call(this)}function Rn(t,e){return zn.apply(this,arguments)}function zn(){return(zn=d(a().mark((function e(i,o){var s,u,c,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_e.setPropositions(),s="INPUT"===i.target.tagName&&"ingredient"===i.target.name?i.target:"INPUT"===i.target.tagName&&"size"===i.target.name?i.target.previousElementSibling.querySelector("input"):i.target.previousElementSibling.previousElementSibling.querySelector("input"),u=s.closest("div").nextElementSibling,c=s.closest("div").nextElementSibling.nextElementSibling,null==s||!s.value){e.next=15;break}return l=_e.savedIngredients.map((function(t){return t.title===s.value&&t.category})).filter((function(t){return t}))[0],e.next=8,Nt.request("/db","POST",{body:'[{ "setListIngredients": { "ingredients": [ { "title": "'.concat(s.value,'"').concat(o?', "id": "'.concat(o,'"'):"").concat(l?', "category": "'.concat(l,'"'):"",', "size": "').concat(u.value,'", "unit": "').concat(c.value,'" } ] } }, { "getIngredients": "" }]')});case 8:d=e.sent,r(Ln,this,d[0]),_e.savedIngredients=d[1],Pt.set("listIngredients",n(Ln,this),"ingredients",_e.savedIngredients),s.value="",u.value="",t(Wn,this,Dn).call(this);case 15:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Bn(t,e){return Vn.apply(this,arguments)}function Vn(){return(Vn=d(a().mark((function e(i,o){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Ln,e.t2=this,e.next=5,Nt.request("/db","POST",{body:'{ "setListIngredients": { "ingredients": [ { "id": "'.concat(i,'", "ordered": ').concat(o," } ] } }")});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("listIngredients",n(Ln,this)),t(Wn,this,Dn).call(this);case 9:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Un(t){return Fn.apply(this,arguments)}function Fn(){return(Fn=d(a().mark((function e(i){var o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt.confirm(G(Mn||(Mn=w(["<h3>Voulez-vous vraiment supprimer ?</h3>"]))),d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Ln,e.t2=o,e.next=5,Nt.request("/db","POST",{body:'{ "removeListIngredient": "'.concat(i,'" }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("listIngredients",n(Ln,o)),t(Wn,o,qn).call(o),Nt.toast("success","Ingrédient supprimé");case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(){var e=this;document.body.addEventListener("modalConfirm",(function(t){r(Tn,e,t.detail.choices)})),Nt.confirm(G(gn||(gn=w(['\n\t\t\t<fs-recipes choiceMode="checkbox"/>\n\t\t']))),d(a().mark((function i(){var o;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!n(Tn,e).length){i.next=13;break}return o=[],_e.savedIngredients.forEach((function(t){var r=t.recipes.find((function(t){return n(Tn,e).some((function(e){return t.recipeId===e}))}));r&&o.push({title:t.title,size:r.size,unit:r.unit,category:t.category})})),i.t0=r,i.t1=Ln,i.t2=e,i.next=8,Nt.request("/db","POST",{body:'{ "setListIngredients": { "ingredients": '.concat(JSON.stringify(o)," } }")});case 8:i.t3=i.sent,(0,i.t0)(i.t1,i.t2,i.t3),Pt.set("listIngredients",n(Ln,e)),r(Tn,e,[]),t(Wn,e,qn).call(e);case 13:case"end":return i.stop()}}),i)}))))}function Jn(e,i,o){var s,u=this;document.body.addEventListener("modalConfirm",(function(t){s=t.detail.id})),Nt.confirm(G(mn||(mn=w(["\n\t\t\t<fs-categories choiceMode/>\n\t\t"]))),d(a().mark((function e(){var c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt.request("/db","POST",{body:'[{ "setListIngredients": { "ingredients": [ { "title": "'.concat(o,'", "id": "').concat(i,'", "category": "').concat(s,'" } ] } }, { "getIngredients": "" }]')});case 2:c=e.sent,r(Ln,u,c[0]),_e.savedIngredients=c[1],Pt.set("listIngredients",n(Ln,u),"ingredients",_e.savedIngredients),t(Wn,u,qn).call(u);case 7:case"end":return e.stop()}}),e)}))))}function Yn(){var e=this;Nt.confirm(G(yn||(yn=w(["<h3>Voulez vous vider la liste ?</h3>"]))),d(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r(Pn,e,[]),i.t0=r,i.t1=Ln,i.t2=e,i.next=6,Nt.request("/db","POST",{body:'{ "clearListIngredients": "" }'});case 6:i.t3=i.sent,(0,i.t0)(i.t1,i.t2,i.t3),Pt.set("listIngredients",n(Ln,e)),t(Wn,e,qn).call(e);case 10:case"end":return i.stop()}}),i)}))))}function Zn(e){var n,r=this;document.body.addEventListener("modalConfirm",(function(t){n=t.detail.event})),Nt.confirm(G(bn||(bn=w([""]))),d(a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t(Wn,r,Rn).call(r,n,null==e?void 0:e._id);case 2:_e.renderAddIngredientInDialog(e,!0);case 3:case"end":return i.stop()}}),i)}))),(function(){return _e.renderAddIngredientInDialog(e,!0)})),_e.renderAddIngredientInDialog(e)}function Xn(){var e,i,o,s=this,a=function(e){var i,o=e._id,a=e.title,u=e.size,c=e.unit,l=null===(i=n(Pn,s))||void 0===i?void 0:i.includes(o);return G(wn||(wn=w(['\n\t\t\t\t<li>\n\t\t\t\t\t<div class="editListIngredient ','">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t\t"])),n(Nn,s)===o?"grid":"",G(kn||(kn=w(['\n\t\t\t\t\t\t\t<a class="','" @click="','"><span>',"",'</span></a>\n\t\t\t\t\t\t\t<button class="edit" @click="','" .disabled="','">\n\t\t\t\t\t\t\t\t<svg class="edit">\n\t\t\t\t\t\t\t\t\t<use href="#edit"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span>Modifier</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type="button" class="remove" @click="','" .disabled="','">\n\t\t\t\t\t\t\t\t<svg class="remove">\n\t\t\t\t\t\t\t\t\t<use href="#remove"></use>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<span>Supprimer</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t"])),l?"ordered":"",(function(){t(Wn,s,Bn).call(s,o,!l),l?r(Pn,s,n(Pn,s).filter((function(t){return o!==t}))):n(Pn,s).push(o),n(Pn,s).length===n(Ln,s).length&&t(Wn,s,Yn).call(s)}),a,u&&G(An||(An=w([" (","",")"])),u,"nb"!==c?" ".concat(c):""),(function(){return t(Wn,s,Zn).call(s,e)}),l,(function(){return t(Wn,s,Un).call(s,o)}),l,e.category?"":G(xn||(xn=w(['\n\t\t\t\t\t\t\t\t<button type="button" class="setCategory" @click="','" .disabled="','">\n\t\t\t\t\t\t\t\t\t<svg class="setCategory">\n\t\t\t\t\t\t\t\t\t\t<use href="#setCategory"></use>\n\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t<span>Associer une catégorie</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t'])),(function(e){return t(Wn,s,Jn).call(s,e,o,a)}),l)))},u=function(t){return n(In,s).map((function(e){return e._id===t&&e.title})).filter((function(t){return t}))[0]},c=null===(e=n(Ln,this))||void 0===e?void 0:e.filter((function(t){return t.category||t.ordered})).sort((function(t,e){var n;return null===(n=u(t.category))||void 0===n?void 0:n.localeCompare(u(e.category))})).reduce((function(t,e){var n,r=e.category,i=e.ordered?_e.strings.ordered:u(r);return t[i]=null!==(n=t[i])&&void 0!==n?n:[],t[i].push(e),t}),{});X(G(En||(En=w(['\n\t\t\t<div class="title">\n\t\t\t\t<h2>Votre liste</h2>\n\t\t\t\t<button type="button" class="add" @click="','">\n\t\t\t\t\t<svg class="add">\n\t\t\t\t\t\t<use href="#add"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span>Ajouter un ingrédient</span>\n\t\t\t\t</button>\n\t\t\t\t<button type="button" class="addList" @click="','">\n\t\t\t\t\t<svg class="addList">\n\t\t\t\t\t\t<use href="#addList"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span>Ajouter des ingrédients</span>\n\t\t\t\t</button>\n\t\t\t\t<button type="button" class="trash" @click="','">\n\t\t\t\t\t<svg class="trash">\n\t\t\t\t\t\t<use href="#trash"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span>Vider</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<aside>\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</aside>\n\t\t"])),(function(){return t(Wn,s,Zn).call(s)}),(function(){return t(Wn,s,Gn).call(s)}),(function(){return t(Wn,s,Yn).call(s)}),null!==(i=n(Ln,this))&&void 0!==i&&i.length?G(_n||(_n=w(["\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t"])),null===(o=n(Ln,this))||void 0===o?void 0:o.filter((function(t){return!t.category&&!t.ordered})).map((function(t){return a(t)})),Object.entries(c).sort((function(t,e){var n=k(t,2),r=n[0];n[1];var i=k(e,2),o=i[0];return i[1],r===_e.strings.ordered?1:o===_e.strings.ordered?-1:r.localeCompare(o)})).map((function(t){var e=k(t,2),n=e[0],r=e[1];return G(Cn||(Cn=w(['\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="category">',"</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t"])),n,r.sort((function(t,e){return t.title.localeCompare(e.title)})).map((function(t){return a(t)})))}))):G(Sn||(Sn=w(["\n\t\t\t\t\t\t\t\t\t<li>Aucun ingrédient ...</li>"])))),this)}var Kn,Qn=new WeakSet,tr=function(n){function r(){var n;return f(this,r),M(n=e(this,r),Qn),t(Qn,n,er).call(n),n}return g(r,b(HTMLElement)),p(r,[{key:"src",get:function(){return this.getAttribute("src")}},{key:"alt",get:function(){return this.getAttribute("alt")}},{key:"connectedCallback",value:function(){var t=this,e=this.querySelector("img");e.style.transform="translate3d(0, ".concat(window.scrollY,"px, 0)"),window.addEventListener("scroll",(function(){e.style.transform="translate3d(0, ".concat(.5*window.scrollY,"px, 0)"),window.scrollY>=t.getBoundingClientRect().height?t.firstElementChild.classList.add("titles"):t.firstElementChild.classList.remove("titles")}))}}])}();function er(){X(G($n||($n=w(['\n\t\t\t<div class="image">\n\t\t\t\t<img alt="','" src="','"/>\n\t\t\t</div>\n\t\t'])),this.alt,this.src),this)}var nr,rr,ir,or,sr,ar,ur,cr,lr,dr,fr,hr,pr,vr=new WeakSet,gr=function(n){function r(){var t;f(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return M(t=e(this,r,[].concat(i)),vr),t}return g(r,b(HTMLElement)),p(r,[{key:"connectedCallback",value:function(){t(vr,this,yr).call(this),t(vr,this,mr).call(this)}}])}();function mr(){var t=this.querySelector("form");t.addEventListener("submit",function(){var e=d(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Nt.request("/auth","POST",{body:JSON.stringify(Object.fromEntries(new FormData(t).entries()))});case 3:location.href="/app";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}function yr(){X(G(Kn||(Kn=w(['\n\t\t\t<form>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Identifiant</span>\n\t\t\t\t\t<input name="id" required type="text">\n\t\t\t\t</label>\n\t\t\t\t<label>\n\t\t\t\t\t<span>Mot de passe</span>\n\t\t\t\t\t<input name="password" required type="password">\n\t\t\t\t</label>\n\t\t\t\t<button type="submit">\n\t\t\t\t\t<span>Envoyer</span>\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t']))),this)}var br,wr=new WeakMap,kr=new WeakMap,Ar=new WeakSet,xr=function(i){function o(){var t;f(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return M(t=e(this,o,[].concat(r)),Ar),C(t,wr,void 0),C(t,kr,void 0),t}return g(o,b(HTMLElement)),p(o,[{key:"choiceMode",get:function(){var t=this.getAttribute("choiceMode");return null!==t?t:null},set:function(t){t?this.setAttribute("choiceMode",t):this.removeAttribute("choiceMode")}},{key:"connectedCallback",value:(s=d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t1=wr,e.t2=this,e.t3=Pt.get("categories"),e.t3){e.next=8;break}return e.next=7,Nt.request("/db","POST",{body:'{ "getCategories": "" }'});case 7:e.t3=e.sent;case 8:e.t4=e.t3,(0,e.t0)(e.t1,e.t2,e.t4),Pt.set("categories",n(wr,this)),t(Ar,this,$r).call(this);case 12:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}]);var s}();function Er(){r(kr,this,null),t(Ar,this,$r).call(this)}function Sr(t,e){return _r.apply(this,arguments)}function _r(){return(_r=d(a().mark((function e(i,o){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(s="INPUT"===i.target.tagName?i.target:i.target.closest("button").previousElementSibling)||!s.value){e.next=12;break}return e.t0=r,e.t1=wr,e.t2=this,e.next=7,Nt.request("/db","POST",{body:'{ "setCategory": { "title": "'.concat(s.value,'"').concat(o?', "id": "'.concat(o,'"'):""," } }")});case 7:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("categories",n(wr,this)),s.value="",t(Ar,this,Er).call(this);case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Cr(t){return Mr.apply(this,arguments)}function Mr(){return(Mr=d(a().mark((function e(i){var o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nt.confirm(G(pr||(pr=w(["<h3>Voulez-vous vraiment supprimer ?</h3>"]))),d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=wr,e.t2=o,e.next=5,Nt.request("/db","POST",{body:'{ "removeCategory": "'.concat(i,'" }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("categories",n(wr,o)),t(Ar,o,$r).call(o),Nt.toast("success","Catégorie supprimée");case 10:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(){var e=this;n(wr,this).sort((function(t,e){return t.title.localeCompare(e.title)})),X(G(nr||(nr=w(["\n\t\t\t","\n\t\t\t<aside>\n\t\t\t\t<nav>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t","\n\t\t\t\t\t</ul>\n\t\t\t\t</nav>\n\t\t\t</aside>\n\t\t"])),null===this.choiceMode?G(rr||(rr=w(["<h2>Liste des catégories</h2>"]))):"",null===this.choiceMode?G(ir||(ir=w(['\n\t\t\t\t\t\t\t\t\t\t<div class="addCategory grid">\n\t\t\t\t\t\t\t\t\t\t\t<input name="newCategory" type="text" @keyup="','"/>\n\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="add" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t<svg class="add">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#add"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t<span>Ajouter une catégorie</span>\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t'])),(function(n){"Enter"===n.key&&t(Ar,e,Sr).call(e,n)}),(function(n){return t(Ar,e,Sr).call(e,n)})):"",n(wr,this).length?n(wr,this).map((function(i){var o=i.title,s=i._id;return null!==e.choiceMode?G(sr||(sr=w(['\n\t\t\t\t\t\t\t\t\t\t<label for="','">\n\t\t\t\t\t\t\t\t\t\t\t<input type="radio" id="','" name="category" value="','" .checked="','"\n\t\t\t\t\t\t\t\t\t\t\t\t   @change="','">\n\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t"])),s,s,o,e.choiceMode===s,(function(){return document.body.dispatchEvent(new CustomEvent("modalConfirm",{detail:{id:s,title:o}}))}),o):G(ar||(ar=w(['\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<div class="editCategory ','">\n\t\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t"])),n(kr,e)===s?"grid":"",n(kr,e)===s?G(ur||(ur=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input name="editCategory" required type="text" value="','" @keyup="','"/>'])),o,(function(n){"Enter"===n.key&&t(Ar,e,Sr).call(e,n,s),"Escape"===n.key&&t(Ar,e,Er).call(e)})):G(cr||(cr=w(["\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>","</span>\n\t\t\t\t\t\t\t\t\t\t\t\t"])),o),n(kr,e)===s?G(lr||(lr=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="valid" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="valid">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#valid"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Valider</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(n){return t(Ar,e,Sr).call(e,n,s)})):G(dr||(dr=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="edit" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="edit">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#edit"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Modifier</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(){r(kr,e,s),t(Ar,e,$r).call(e)})),n(kr,e)===s?G(fr||(fr=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="undo" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="undo">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#undo"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Annuler</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(){return t(Ar,e,Er).call(e)})):G(hr||(hr=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button type="button" class="remove" @click="','">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg class="remove">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use href="#remove"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>Supprimer</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t\t'])),(function(){return t(Ar,e,Cr).call(e,s)})))})):G(or||(or=w(["\n\t\t\t\t\t\t\t<li>Aucune catégorie ...</li>"])))),this)}var Or,Lr=new WeakMap,Ir=new WeakSet,Tr=function(n){function i(){var t;f(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return M(t=e(this,i,[].concat(r)),Ir),C(t,Lr,void 0),t}return g(i,b(HTMLElement)),p(i,[{key:"height",get:function(){return this.getAttribute("height")}},{key:"connectedCallback",value:function(){var e,n=this;this.style.cssText="height: ".concat(this.height||8e3,"px; position: relative;display: block;"),r(Lr,this,Array.from(this.querySelectorAll("*")).reduce((function(t,e){var n="".concat(e.tagName,".").concat(e.className);return Array.from(e.attributes).forEach((function(r){if(r.name.includes("data")){t[n]||(t[n]=[]);var i=r.name.split("-");t[n].push({element:e,lowValue:Number(i[1]),highValue:Number(i[2]),animations:r.value})}})),t}),{}));var i=Array.from(this.children);t(Ir,this,Wr).call(this),(e=this.querySelector("slot")).replaceWith.apply(e,i),document.body.addEventListener("scroll",(function(){return t(Ir,n,Pr).call(n)})),t(Ir,this,Pr).call(this)}}])}();function Pr(){var e=document.body.getBoundingClientRect(),n=this.getBoundingClientRect();if(e.height<n.height){var r=(e.y-n.y)/(n.height-e.height);t(Ir,this,Nr).call(this,r)}}function Nr(t){Object.values(n(Lr,this)).forEach((function(e){var n,r=S(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;(t>=i.lowValue&&t<i.highValue||0===i.lowValue&&t<i.lowValue)&&(i.element.style=i.animations.replaceAll("§§proportion§§","".concat(t)))}}catch(t){r.e(t)}finally{r.f()}}))}function Wr(){X(G(br||(br=w(['\n\t\t\t<div style="height: ','px; position: sticky; top: 0;">\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t'])),window.innerHeight),this)}var jr=new WeakSet,qr=function(n){function r(){var t;f(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return M(t=e(this,r,[].concat(i)),jr),t}return g(r,b(HTMLElement)),p(r,[{key:"visible",get:function(){return this.hasAttribute("visible")},set:function(t){t?this.setAttribute("visible",""):this.removeAttribute("visible")}},{key:"connectedCallback",value:function(){t(jr,this,Hr).call(this),this.style.display="none"}},{key:"attributeChangedCallback",value:function(e,n,r){var i=this;"visible"===e&&n!==r&&(""===r&&(this.style.display="",setTimeout((function(){return t(jr,i,Hr).call(i)}),20)),null===r&&(this.style.display="none",setTimeout((function(){return t(jr,i,Hr).call(i)}),20)))}}],[{key:"observedAttributes",get:function(){return["visible"]}}])}();function Hr(){X(G(Or||(Or=w(['\n\t\t\t<div class="spinner"></div>']))),this)}var Dr,Rr,zr,Br,Vr,Ur,Fr,Gr,Jr,Yr=new WeakSet,Zr=function(t){function n(){var t;return f(this,n),M(t=e(this,n),Yr),t.style.visibility="hidden",t}return g(n,b(HTMLElement)),p(n,[{key:"loadingTimer",get:function(){return Number(this.getAttribute("loadingTimer"))}},{key:"connectedCallback",value:function(){var t=this;Nt.loader(!0),setTimeout((function(){Nt.loader(!1),t.style.visibility="visible"}),this.loadingTimer)}}])}(),Xr=new WeakMap,Kr=new WeakMap,Qr=new WeakMap,ti=new WeakMap,ei=new WeakMap,ni=new WeakMap,ri=new WeakSet,ii=function(i){function o(){var t;f(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return M(t=e(this,o,[].concat(r)),ri),C(t,Xr,void 0),C(t,Kr,void 0),C(t,Qr,void 0),C(t,ti,void 0),C(t,ei,void 0),C(t,ni,void 0),t}return g(o,b(HTMLElement)),p(o,[{key:"connectedCallback",value:(s=d(a().mark((function e(){var i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(Xr,this,["Lundi","mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"]),r(Kr,this,{Midi:n(Xr,this),Soir:n(Xr,this)}),e.t0=Pt.get("dishes","ingredients"),e.t0){e.next=7;break}return e.next=6,Nt.request("/db","POST",{body:'[{ "getDishes": "" }, { "getIngredients": "" }]'});case 6:e.t0=e.sent;case 7:i=e.t0,Pt.set("dishes",i[0],"ingredients",i[1]),r(Qr,this,i[0]),_e.savedIngredients=i[1],t(ri,this,si).call(this);case 12:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}]);var s}();function oi(e,i,o){var s=this;e.target.closest("details").removeAttribute("open"),document.body.addEventListener("modalConfirm",(function(t){r(ti,s,t.detail.dishName||t.detail.title),r(ei,s,t.detail.choices&&t.detail.choices[0]||null)})),Nt.confirm(o?G(Dr||(Dr=w(['\n\t\t\t<label for="firstname">\n\t\t\t\t<input type="text" value="','" @input="','"/>\n\t\t\t</label>\n\t\t'])),null==i?void 0:i.name,(function(t){return document.body.dispatchEvent(new CustomEvent("modalConfirm",{detail:{dishName:t.target.value}}))})):G(Rr||(Rr=w(['\n\t\t\t<fs-recipes choiceMode="radio"/>\n\t\t']))),d(a().mark((function e(){var u,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n(ti,s)){e.next=10;break}return i.name=n(ti,s),e.t0=r,e.t1=Qr,e.t2=s,e.next=7,Nt.request("/db","POST",{body:'{ "setDish": '.concat(JSON.stringify(i)," }")});case 7:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("dishes",n(Qr,s));case 10:if(t(ri,s,si).call(s),o||!n(ti,s)){e.next=18;break}return u=_e.savedIngredients.filter((function(t){return t.recipes.length&&t.recipes.some((function(t){return t.recipeId===n(ei,s)}))})).map((function(t){return{title:t.title,category:t.category}})),e.next=15,Nt.request("/db","POST",{body:'{ "setListIngredients": { "ingredients": '.concat(JSON.stringify(u)," } }")});case 15:c=e.sent,Pt.set("listIngredients",c),On.send(c);case 18:r(ti,s,"");case 19:case"end":return e.stop()}}),e)}))))}function si(){r(ni,this,n(Qr,this).reduce((function(t,e){var n,r;return t[e.time]=null!==(n=t[e.time])&&void 0!==n?n:{},t[e.time][e.day]=null!==(r=t[e.time][e.day])&&void 0!==r?r:{},t[e.time][e.day]=e,t}),{})),t(ri,this,ui).call(this)}function ai(e,i){var o=this;e&&e.target.closest("details").removeAttribute("open"),Nt.confirm(G(zr||(zr=w(["<h3>Voulez vous effacer "," ?</h3>"])),i?"ce plat":"les plats de la semaine"),d(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.t1=Qr,e.t2=o,e.next=5,Nt.request("/db","POST",{body:'{ "clearDishes": "'.concat(i||"",'" }')});case 5:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),Pt.set("dishes",n(Qr,o)),t(ri,o,si).call(o);case 9:case"end":return e.stop()}}),e)}))))}function ui(){var e=this;X(G(Br||(Br=w(['\n\t\t\t<div class="title">\n\t\t\t\t<h2>Les plats de la semaine</h2>\n\t\t\t\t<button type="button" class="trash" @click="','">\n\t\t\t\t\t<svg class="trash">\n\t\t\t\t\t\t<use href="#trash"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span>Vider</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="content">\n\t\t\t\t<div class="grid">\n\t\t\t\t\t<div>#</div>\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),(function(){return t(ri,e,ai).call(e)}),n(Xr,this).map((function(t){return G(Vr||(Vr=w(["\n\t\t\t\t\t\t\t<div>","</div>\n\t\t\t\t\t\t"])),t)})),Object.entries(n(Kr,this)).map((function(r){var i=k(r,2),o=i[0],s=i[1];return G(Ur||(Ur=w(['\n\t\t\t\t\t\t<div class="grid">\n\t\t\t\t\t\t\t<div>',"</div>\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),o,s.map((function(r){var i,s=null!==(i=n(ni,e)[o]&&n(ni,e)[o][r])&&void 0!==i?i:{time:o,day:r};return G(Fr||(Fr=w(['\n\t\t\t\t\t\t\t\t\t<details role="list">\n\t\t\t\t\t\t\t\t\t\t<summary aria-haspopup="listbox" role="button">','</summary>\n\t\t\t\t\t\t\t\t\t\t<ul role="listbox">\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<button @click="','">Éditer</button>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t<button @click="','">Ajouter</button>\n\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t</details>\n\t\t\t\t\t\t\t\t"])),s.name,(function(n){return t(ri,e,oi).call(e,n,s,!0)}),(function(n){return t(ri,e,oi).call(e,n,s)}),s._id&&G(Gr||(Gr=w(['\n\t\t\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<button @click="','">Effacer</button>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t'])),(function(n){return t(ri,e,ai).call(e,n,s._id)})))})))}))),this)}var ci=new WeakSet,li=function(n){function r(){var t;f(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return M(t=e(this,r,[].concat(i)),ci),t}return g(r,b(HTMLElement)),p(r,[{key:"href",get:function(){return this.getAttribute("href")},set:function(t){this.setAttribute("open",t)}},{key:"connectedCallback",value:(i=d(a().mark((function e(){var n,r,i,o=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.from(this.children),t(ci,this,di).call(this),null===(n=this.querySelector("slot"))||void 0===n||n.replaceWith.apply(n,r),e.next=5,Nt.getFragmentHtml(this.href);case 5:i=e.sent,this.addEventListener("click",(function(){history.pushState({},"",o.href),gi(i)}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})}]);var i}();function di(){X(G(Jr||(Jr=w(["\n\t\t\t<slot></slot>\n\t\t"]))),this)}var fi,hi,pi,vi,gi=function(t){document.querySelector("[data-replaced-zone]").replaceChildren(document.createRange().createContextualFragment(t.text)),document.body.className=t.class,document.querySelector("[data-replaced-title]").innerHTML=t.title};window.addEventListener("popstate",d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gi,t.next=3,Nt.getFragmentHtml(location.pathname);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t)}))));var mi=new WeakMap,yi=new WeakMap,bi=new WeakMap,wi=new WeakSet,ki=function(i){function o(){var t;return f(this,o),M(t=e(this,o),wi),C(t,mi,void 0),C(t,yi,void 0),C(t,bi,void 0),t.style.display="none",t}return g(o,b(HTMLElement)),p(o,[{key:"connectedCallback",value:(s=d(a().mark((function e(){var i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,e.t1=mi,e.t2=this,e.t3=Pt.get("routes"),e.t3){e.next=8;break}return e.next=7,Nt.request("/app/routes.json");case 7:e.t3=e.sent;case 8:e.t4=e.t3,(0,e.t0)(e.t1,e.t2,e.t4),Pt.set("routes",n(mi,this)),this.removeAttribute("style"),t(wi,this,Ai).call(this),window.addEventListener("resize",(function(e){return t(wi,i,Ai).call(i)})),window.addEventListener("popstate",(function(){return t(wi,i,xi).call(i)}));case 15:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})}]);var s}();function Ai(){r(yi,this,window.innerWidth<=1100),r(bi,this,window.innerWidth<=1100),n(yi,this)?this.setAttribute("data-burger",""):this.removeAttribute("data-burger"),t(wi,this,xi).call(this)}function xi(){var e=this;X(G(fi||(fi=w(["\n\t\t\t",'\n\t\t\t<div data-hidden="','">\n\t\t\t\t',"\n\t\t\t\t<ul>\n\t\t\t\t\t","\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t"])),n(yi,this)?G(hi||(hi=w(['\n\t\t\t\t<button class="burger" @click="','">\n\t\t\t\t\t<svg class="burger">\n\t\t\t\t\t\t<use href="#burger"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<span>Burger Menu</span>\n\t\t\t\t</button>\n\t\t\t'])),(function(){r(bi,e,!1),t(wi,e,xi).call(e)})):"",n(bi,this),n(yi,this)?G(pi||(pi=w(['\n\t\t\t\t\t<button class="back" @click="','">\n\t\t\t\t\t\t<svg class="back">\n\t\t\t\t\t\t\t<use href="#back"></use>\n\t\t\t\t\t\t\t<span>Retour</span>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</button>\n\t\t\t\t'])),(function(){r(bi,e,!0),t(wi,e,xi).call(e)})):"",n(mi,this).map((function(n){return G(vi||(vi=w(['\n\t\t\t\t\t\t<li data-selected="','" @click="','">\n\t\t\t\t\t\t\t<fs-link href="','" role="button">\n\t\t\t\t\t\t\t\t<span>',"</span>\n\t\t\t\t\t\t\t</fs-link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"])),n.path===location.pathname,(function(){return t(wi,e,Ai).call(e)}),n.path,n.label)}))),this)}new(function(){return p((function t(){f(this,t),Nt.helpers(),this.wakeLock(),On.init(),"/"===location.href.charAt(location.href.length-1)&&history.replaceState({},"",location.href.replace(/\/$/,""))}),[{key:"wakeLock",value:(t=d(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,n=function(){var t=d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.wakeLock.request();case 3:e=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("".concat(t.t0.name,", ").concat(t.t0.message));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),document.addEventListener("visibilitychange",d(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||"visible"!==document.visibilityState){t.next=3;break}return t.next=3,n();case 3:case"end":return t.stop()}}),t)})))),t.next=5,n();case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]);var t}()),customElements.define("fs-loader",qr),customElements.define("fs-header",tr),customElements.define("fs-toast",mt),customElements.define("fs-confirm",jt),customElements.define("fs-propose",kt),customElements.define("fs-recipes",ee),customElements.define("fs-recipe",je),customElements.define("fs-lists",jn),customElements.define("fs-ingredients",pe),customElements.define("fs-categories",xr),customElements.define("fs-login",gr),customElements.define("fs-loading-block",Zr),customElements.define("fs-animated-section",Tr),customElements.define("fs-dishes",ii),customElements.define("fs-link",li),customElements.define("fs-menu",ki);
